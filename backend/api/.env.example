# ================================
# KobKlein Backend (NestJS) Environment
# ================================
# Copy this file to .env and fill in your actual values
# These are PRIVATE variables - never expose to the browser

# ================================
# üåê Application Configuration
# ================================
NODE_ENV=development
PORT=3001
HOST=localhost
API_VERSION=v1
APP_NAME=KobKlein API
APP_VERSION=1.0.0

# ================================
# üîê Supabase Configuration
# ================================
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...your-anon-key
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...your-service-role-key

# ================================
# üõ¢Ô∏è Database Configuration
# ================================
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres
DB_HOST=db.your-project.supabase.co
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=your-database-password
DB_DATABASE=postgres
DB_SCHEMA=public

# ================================
# üîë Security Configuration
# ================================
JWT_SECRET=your-jwt-secret-key-at-least-32-characters-long
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
ENCRYPTION_KEY=your-32-byte-base64-encryption-key-here
BCRYPT_ROUNDS=12

# ================================
# üí≥ Stripe Configuration
# ================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret_here
STRIPE_WEBHOOK_ENDPOINT_SECRET=whsec_your_endpoint_specific_secret

# ================================
# üì± Twilio Configuration
# ================================
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_MESSAGING_SERVICE_SID=MGxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_VERIFY_SERVICE_SID=VAxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ================================
# üìß Email Configuration
# ================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
EMAIL_FROM=noreply@kobklein.com

# SendGrid (Alternative)
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here

# ================================
# üî• Firebase Admin (Server-side)
# ================================
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key-Content-Here\n-----END PRIVATE KEY-----\n"

# ================================
# ‚òÅÔ∏è Cloudflare Configuration
# ================================
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id_here
CLOUDFLARE_ZONE_ID=your_cloudflare_zone_id_here

# ================================
# üí± Exchange Rate Services
# ================================
EXCHANGE_RATE_API_KEY=your_exchange_rate_api_key_here
EXCHANGE_RATE_BASE_URL=https://api.exchangerate-api.com/v4/latest

# ================================
# üîç Monitoring & Logging
# ================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
LOG_LEVEL=debug
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_TRACKING=true

# ================================
# üìä Rate Limiting
# ================================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
RATE_LIMIT_STRICT_MODE=false

# ================================
# üöÄ CORS Configuration
# ================================
CORS_ORIGIN=http://localhost:3000,https://your-domain.com
CORS_CREDENTIALS=true

# ================================
# üìù API Documentation
# ================================
SWAGGER_ENABLE=true
SWAGGER_PATH=api/docs
SWAGGER_TITLE="KobKlein API"
SWAGGER_DESCRIPTION="Cashless payment system for Haiti"

# ================================
# üîÑ Background Jobs
# ================================
REDIS_URL=redis://localhost:6379
BULL_QUEUE_PREFIX=kobklein
ENABLE_BACKGROUND_JOBS=true

# ================================
# üß™ Testing Configuration
# ================================
TEST_DATABASE_URL=postgresql://postgres:test@localhost:5433/kobklein_test
MOCK_EXTERNAL_APIS=true

# ================================
# üìù Setup Instructions
# ================================
# 1. Copy this file: cp .env.example .env
# 2. Fill in all the placeholder values above
# 3. Run: pnpm install
# 4. Run: pnpm run db:migrate
# 5. Run: pnpm run dev
# 6. API available at: http://localhost:3001
# ================================